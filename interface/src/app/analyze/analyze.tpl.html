<div>
  <h1 class="page-header">
    <svg style="float:right; background-color: #f8f8f8; border: 1px solid #e7e7e7; border-radius: 4px; font-size: 30px;" 
      width="100" height="60" ng-click="show_analysis()">
      <image fill="#e7e7e7" x="5" y="8" width="45" height="45"
          xlink:href="static/assets/testtube-expt.svg">
      </image>
      <text fill="#b7baff" text-anchor="left" x="28" y="43">&times;</text>
      <text fill="#b7baff" text-anchor="left" x="44" y="43">{{ 
        analysis.sample_list.length }}</text>
    </svg>
    Analyze
  </h1>
  <p>
    In this area, users will be able to search for an experiment or set of 
    samples to analyze, define analysis groups and generate a DA heatmap to 
    review ADAGE node intensities for each sample.
  </p>
  <div id="search">
    <form class="form-inline" role="form">
      <label for="query_text">Search Experiments and Samples</label>
      <input name="query_text" id="query_text" ng-model="query.text" 
             type="search" class="form-control" placeholder="query text">
      <button type="submit" ng-click="get_search()" class="btn-default">
        Search
      </button>
    </form>
    <p ng-bind="query.status"></p>
    <ul class="search-results">
      <li ng-switch="search_item.item_type" 
          ng-repeat="search_item in query.results" 
          ng-class="search_item.item_type">
        <svg ng-switch-when="experiment" 
            style="font-size: 110%; font-weight: bold;" width="30" height="20">
          <image x="0" y="0" width="20" height="20"
              xlink:href="/static/assets/testtube-expt.svg">[e]
          </image>
          <text fill="#b7baff" text-anchor="left" x="10" y="20">{{ 
              search_item.related_items.length }}</text>
        </svg>
        <img ng-switch-when="sample" width="20" height="20"
            src="/static/assets/testtube.svg" alt="[s]" />
        <button style="float: right;" type="button" class="btn" 
            ng-click="add_item(search_item)">+</button>
        <a ng-click="show_detail(search_item)">{{ 
            search_item.description }}</a><br>
          <a ng-switch-when="experiment" 
              href="http://www.ebi.ac.uk/arrayexpress/experiments/{{ 
                 search_item.pk }}/">{{ search_item.pk }}</a>
          <a ng-switch-when="sample">{{ search_item.pk }}</a>
          : ...<span ng-bind-html="search_item.snippet"></span>...
      </li>
    </ul>
  </div>
</div>
